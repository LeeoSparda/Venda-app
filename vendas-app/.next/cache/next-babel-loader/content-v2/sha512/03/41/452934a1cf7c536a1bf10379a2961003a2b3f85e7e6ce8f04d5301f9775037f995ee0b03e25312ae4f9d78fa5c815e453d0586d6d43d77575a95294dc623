{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\FelipePc\\\\Desktop\\\\TDS_projeto\\\\vendas-app\\\\src\\\\components\\\\clientes\\\\cadastro\\\\index.tsx\";\nimport { useEffect } from 'react';\nimport { Layout } from 'components';\nimport { useState } from 'react';\nimport { ClienteForm } from './form';\nimport { useClienteService } from 'app/services';\nimport { useRouter } from 'next/router';\nexport const CadastroCliente = () => {\n  const {\n    0: cliente,\n    1: setCliente\n  } = useState({});\n  const {\n    0: messages,\n    1: setMessages\n  } = useState([]);\n  const service = useClienteService();\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  useEffect(() => {\n    if (id) {\n      service.carregarCliente(id).then(clienteEncontrado => setCliente(clienteEncontrado));\n    }\n  }, [id]);\n\n  const handleSubmit = cliente => {\n    if (cliente.id) {\n      service.atualizar(cliente).then(response => {\n        setMessages([{\n          tipo: \"success\",\n          texto: \"Cliente atualizado com sucesso!\"\n        }]);\n      });\n    } else {\n      service.salvar(cliente).then(clienteSalvo => {\n        setCliente(clienteSalvo);\n        setMessages([{\n          tipo: \"success\",\n          texto: \"Cliente salvo com sucesso!\"\n        }]);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    titulo: \"Clientes\",\n    mensagens: messages,\n    children: /*#__PURE__*/_jsxDEV(ClienteForm, {\n      cliente: cliente,\n      onSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};","map":{"version":3,"sources":["C:/Users/FelipePc/Desktop/TDS_projeto/vendas-app/src/components/clientes/cadastro/index.tsx"],"names":["useEffect","Layout","useState","ClienteForm","useClienteService","useRouter","CadastroCliente","cliente","setCliente","messages","setMessages","service","router","id","query","carregarCliente","then","clienteEncontrado","handleSubmit","atualizar","response","tipo","texto","salvar","clienteSalvo"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,QAA5B;AAEA,SAASC,iBAAT,QAAkC,cAAlC;AAEA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,MAAMC,eAAyB,GAAG,MAAM;AAE3C,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBN,QAAQ,CAAU,EAAV,CAAtC;AACA,QAAM;AAAA,OAAEO,QAAF;AAAA,OAAYC;AAAZ,MAA4BR,QAAQ,CAAe,EAAf,CAA1C;AACA,QAAMS,OAAO,GAAGP,iBAAiB,EAAjC;AACA,QAAMQ,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAASD,MAAM,CAACE,KAAtB;AAEAd,EAAAA,SAAS,CAAE,MAAM;AACb,QAAGa,EAAH,EAAM;AACFF,MAAAA,OAAO,CAACI,eAAR,CAAwBF,EAAxB,EACKG,IADL,CACUC,iBAAiB,IAAIT,UAAU,CAACS,iBAAD,CADzC;AAEH;AACJ,GALQ,EAKN,CAACJ,EAAD,CALM,CAAT;;AAOA,QAAMK,YAAY,GAAIX,OAAD,IAAsB;AACvC,QAAGA,OAAO,CAACM,EAAX,EAAc;AACVF,MAAAA,OAAO,CAACQ,SAAR,CAAkBZ,OAAlB,EAA2BS,IAA3B,CAAgCI,QAAQ,IAAI;AACxCV,QAAAA,WAAW,CAAC,CAAC;AACTW,UAAAA,IAAI,EAAE,SADG;AACQC,UAAAA,KAAK,EAAE;AADf,SAAD,CAAD,CAAX;AAGH,OAJD;AAKH,KAND,MAMQ;AACJX,MAAAA,OAAO,CAACY,MAAR,CAAehB,OAAf,EACSS,IADT,CACcQ,YAAY,IAAI;AAClBhB,QAAAA,UAAU,CAACgB,YAAD,CAAV;AACAd,QAAAA,WAAW,CAAC,CAAC;AACTW,UAAAA,IAAI,EAAE,SADG;AACQC,UAAAA,KAAK,EAAE;AADf,SAAD,CAAD,CAAX;AAGH,OANT;AAOH;AACJ,GAhBD;;AAkBA,sBACI,QAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,UAAf;AAA0B,IAAA,SAAS,EAAEb,QAArC;AAAA,2BACI,QAAC,WAAD;AAAa,MAAA,OAAO,EAAEF,OAAtB;AAA+B,MAAA,QAAQ,EAAEW;AAAzC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAtCM","sourcesContent":["import { useEffect } from 'react'\nimport { Layout } from 'components'\nimport { useState } from 'react'\nimport { ClienteForm } from './form'\nimport { Cliente } from 'app/models/clientes'\nimport { useClienteService } from 'app/services'\nimport { Alert } from 'components/common/message'\nimport { useRouter } from 'next/router'\n\nexport const CadastroCliente: React.FC = () => {\n\n    const [cliente, setCliente] = useState<Cliente>({});\n    const [ messages, setMessages ] = useState<Array<Alert>>([])\n    const service = useClienteService();\n    const router = useRouter();\n    const { id } = router.query;\n\n    useEffect( () => {\n        if(id){\n            service.carregarCliente(id)\n                .then(clienteEncontrado => setCliente(clienteEncontrado) )\n        }\n    }, [id] )\n\n    const handleSubmit = (cliente: Cliente) => {       \n        if(cliente.id){\n            service.atualizar(cliente).then(response => {\n                setMessages([{\n                    tipo: \"success\", texto: \"Cliente atualizado com sucesso!\"\n                }])      \n            })\n        }  else {\n            service.salvar(cliente)\n                    .then(clienteSalvo => {\n                        setCliente(clienteSalvo);\n                        setMessages([{\n                            tipo: \"success\", texto: \"Cliente salvo com sucesso!\"\n                        }])                \n                    })\n        } \n    }\n\n    return (\n        <Layout titulo=\"Clientes\" mensagens={messages}>\n            <ClienteForm cliente={cliente} onSubmit={handleSubmit} />\n        </Layout>\n    )\n}"]},"metadata":{},"sourceType":"module"}